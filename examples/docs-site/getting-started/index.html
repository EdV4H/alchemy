<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started — Alchemy</title>
  <link rel="icon" href="../favicon.svg" />
  <script type="module" src="../src/main.ts"></script>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-inner">
      <a href="/alchemy/" class="header-logo">
        <svg viewBox="0 0 32 32" fill="none"><path d="M16 2L12 12H8L14 20L12 30H20L18 20L24 12H20L16 2Z" fill="url(#g)"/><defs><linearGradient id="g" x1="8" y1="2" x2="24" y2="30" gradientUnits="userSpaceOnUse"><stop stop-color="#fbbf24"/><stop offset="1" stop-color="#d97706"/></linearGradient></defs></svg>
        <span>Alchemy</span>
      </a>
      <nav class="header-nav">
        <a href="/alchemy/getting-started/" class="active">Getting Started</a>
        <a href="/alchemy/concepts/">Concepts</a>
        <a href="/alchemy/api/">API</a>
        <a href="/alchemy/examples/">Examples</a>
      </nav>
      <div class="header-actions">
        <a href="https://github.com/EdV4H/alchemy" class="github-link" target="_blank" rel="noopener">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
        </a>
      </div>
      <button class="menu-toggle" aria-label="Toggle menu">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
      </button>
    </div>
  </header>

  <div class="docs-layout">
    <!-- Sidebar backdrop -->
    <div class="sidebar-backdrop"></div>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-heading">Guide</div>
        <a href="/alchemy/getting-started/" class="sidebar-link">Getting Started</a>
        <a href="/alchemy/concepts/" class="sidebar-link">Concepts</a>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-heading">Reference</div>
        <a href="/alchemy/api/" class="sidebar-link">API Reference</a>
        <a href="/alchemy/examples/" class="sidebar-link">Examples</a>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-heading">On this page</div>
        <a href="#installation" class="sidebar-link sub">Installation</a>
        <a href="#first-recipe" class="sidebar-link sub">First Recipe</a>
        <a href="#structured-output" class="sidebar-link sub">Structured Output (Zod)</a>
        <a href="#streaming" class="sidebar-link sub">Streaming</a>
        <a href="#next-steps" class="sidebar-link sub">Next Steps</a>
      </div>
    </aside>

    <!-- Main content -->
    <main class="doc-main">
      <div class="doc-content">
        <div class="page-header">
          <h1>Getting Started</h1>
          <p class="subtitle">Install Alchemy and run your first type-safe LLM recipe in under 5 minutes.</p>
        </div>

        <h2 id="installation">Installation</h2>
        <p>Alchemy is distributed as scoped npm packages. Install the core and Node.js packages:</p>

        <div class="code-block">
          <div class="code-block-header">
            <span class="code-block-lang">bash</span>
          </div>
          <pre><code class="language-bash">pnpm add @edv4h/alchemy-core @edv4h/alchemy-node</code></pre>
        </div>

        <p>If you plan to use structured output with JSON schemas, also install Zod:</p>

        <div class="code-block">
          <div class="code-block-header">
            <span class="code-block-lang">bash</span>
          </div>
          <pre><code class="language-bash">pnpm add zod</code></pre>
        </div>

        <div class="callout callout-info">
          <strong>Prerequisites</strong>
          <p>Node.js 18+ and an OpenAI API key. Set your key as the <code>OPENAI_API_KEY</code> environment variable or pass it directly to the transmuter.</p>
        </div>

        <h2 id="first-recipe">Your First Recipe</h2>
        <p>A <strong>Recipe</strong> defines what Alchemy should do — the prompt (Spell), the output format (Refiner), and optional model configuration (Catalyst).</p>

        <div class="code-block">
          <div class="code-block-header">
            <span class="code-block-lang">ts</span>
          </div>
          <pre><code class="language-ts">import { Alchemist, OpenAITransmuter } from "@edv4h/alchemy-node";

// 1. Create an Alchemist with an OpenAI transmuter
const alchemist = new Alchemist({
  transmuter: new OpenAITransmuter({
    apiKey: process.env.OPENAI_API_KEY,
  }),
});

// 2. Run a simple text recipe
const result = await alchemist.transmute({
  recipe: {
    spell: { output: "Translate this to French" },
  },
  materials: [{ type: "text", text: "Hello, world!" }],
});

console.log(result.output);
// → "Bonjour, le monde !"</code></pre>
        </div>

        <p>That's it! The <code>Alchemist</code> takes your materials (inputs), applies the spell (prompt), sends it through the transmuter (OpenAI), and returns the result.</p>

        <h2 id="structured-output">Structured Output with Zod</h2>
        <p>The real power of Alchemy is <strong>type-safe structured output</strong>. Use <code>JsonRefiner</code> with a Zod schema to get validated, typed responses:</p>

        <div class="code-block">
          <div class="code-block-header">
            <span class="code-block-lang">ts</span>
          </div>
          <pre><code class="language-ts">import { JsonRefiner } from "@edv4h/alchemy-core";
import { z } from "zod";

// Define your output schema
const SentimentSchema = z.object({
  sentiment: z.enum(["positive", "negative", "neutral"]),
  confidence: z.number().min(0).max(1),
  keywords: z.array(z.string()),
});

const result = await alchemist.transmute({
  recipe: {
    spell: { output: "Analyze the sentiment of this text" },
    refiner: new JsonRefiner(SentimentSchema),
  },
  materials: [{ type: "text", text: "I absolutely love this product!" }],
});

// result.output is fully typed as:
// { sentiment: "positive" | "negative" | "neutral";
//   confidence: number;
//   keywords: string[] }
console.log(result.output.sentiment);   // "positive"
console.log(result.output.confidence);  // 0.95
console.log(result.output.keywords);    // ["love", "product"]</code></pre>
        </div>

        <div class="callout callout-tip">
          <strong>Tip</strong>
          <p>The <code>JsonRefiner</code> automatically adds format instructions to the prompt, strips markdown code fences from the response, and validates the output against your Zod schema.</p>
        </div>

        <h2 id="streaming">Streaming</h2>
        <p>For long responses, use the <code>stream</code> method to get results as they arrive:</p>

        <div class="code-block">
          <div class="code-block-header">
            <span class="code-block-lang">ts</span>
          </div>
          <pre><code class="language-ts">const stream = alchemist.stream({
  recipe: {
    spell: { output: "Write a short story about an alchemist" },
  },
  materials: [{ type: "text", text: "A mysterious laboratory..." }],
});

for await (const chunk of stream) {
  process.stdout.write(chunk);
}
// Outputs text progressively as it's generated</code></pre>
        </div>

        <h2 id="next-steps">Next Steps</h2>
        <ul>
          <li><a href="/alchemy/concepts/">Concepts</a> — Learn about Materials, Transforms, Spells, Transmuters, and Refiners in depth.</li>
          <li><a href="/alchemy/api/">API Reference</a> — Full API documentation for all three packages.</li>
          <li><a href="/alchemy/examples/">Examples</a> — Real-world code examples and patterns.</li>
        </ul>
      </div>
    </main>
  </div>
</body>
</html>
